#!/bin/sh

# 1. run ./waf build
# 2. once it fails because no interface_repository could be found, run this command
# 3. run ./waf build again to complete build.

# Build interface repository in one go: run from _build_

cd _build_

/Users/berkus/Tools/clang/bin/clang++ -fvisibility-inlines-hidden -fvisibility=hidden -O1 -g -ffunction-sections -fdata-sections -Wall -Wextra -Werror -mno-mmx -mno-sse -mno-3dnow -Wno-unused-variable -Wno-unused-parameter -Wno-gnu-array-member-paren-init -Wno-gcc-compat -Wno-deprecated-declarations -fno-builtin -fno-stack-protector -target i686-pc-elf -gcc-toolchain /Users/berkus/Tools/crossgcc -std=c++11 -isystemruntime/libc++/include -isystem/Users/berkus/Tools/clang/lib/clang/3.1/include -fno-strict-aliasing -ffreestanding -nostdinc -fno-rtti -fno-exceptions -m32 -I/Users/berkus/Hobby/Metta/branches/naming_context/src/_build_/kernel -I/Users/berkus/Hobby/Metta/branches/naming_context/src/kernel -I/Users/berkus/Hobby/Metta/branches/naming_context/src/_build_/kernel/generic -I/Users/berkus/Hobby/Metta/branches/naming_context/src/kernel/generic -I/Users/berkus/Hobby/Metta/branches/naming_context/src/_build_/nucleus -I/Users/berkus/Hobby/Metta/branches/naming_context/src/nucleus -I/Users/berkus/Hobby/Metta/branches/naming_context/src/_build_/nucleus/x86 -I/Users/berkus/Hobby/Metta/branches/naming_context/src/nucleus/x86 -I/Users/berkus/Hobby/Metta/branches/naming_context/src/_build_/runtime -I/Users/berkus/Hobby/Metta/branches/naming_context/src/runtime -I/Users/berkus/Hobby/Metta/branches/naming_context/src/_build_/interfaces -I/Users/berkus/Hobby/Metta/branches/naming_context/src/interfaces -I/Users/berkus/Hobby/Metta/branches/naming_context/src/_build_/interfaces/nemesis -I/Users/berkus/Hobby/Metta/branches/naming_context/src/interfaces/nemesis -I/Users/berkus/Hobby/Metta/branches/naming_context/src/_build_/kernel/arch/x86 -I/Users/berkus/Hobby/Metta/branches/naming_context/src/kernel/arch/x86 -I/Users/berkus/Hobby/Metta/branches/naming_context/src/_build_/kernel/platform/pc99 -I/Users/berkus/Hobby/Metta/branches/naming_context/src/kernel/platform/pc99 -I/Users/berkus/Hobby/Metta/branches/naming_context/src/_build_/kernel/arch/shared -I/Users/berkus/Hobby/Metta/branches/naming_context/src/kernel/arch/shared -I/Users/berkus/Hobby/Metta/branches/naming_context/src/_build_/kernel/platform/shared -I/Users/berkus/Hobby/Metta/branches/naming_context/src/kernel/platform/shared -I/Users/berkus/Hobby/Metta/branches/naming_context/src/_build_/runtime/libc++/include -I/Users/berkus/Hobby/Metta/branches/naming_context/src/runtime/libc++/include -I/Users/berkus/Hobby/Metta/branches/naming_context/src/_build_/runtime/libc -I/Users/berkus/Hobby/Metta/branches/naming_context/src/runtime/libc -I/Users/berkus/Hobby/Metta/branches/naming_context/src/_build_/modules/tcb/root_domain -I/Users/berkus/Hobby/Metta/branches/naming_context/src/modules/tcb/root_domain -I/Users/berkus/Hobby/Metta/branches/naming_context/src/_build_/modules -I/Users/berkus/Hobby/Metta/branches/naming_context/src/modules -D__Metta__=1 -DBOCHS_IO_HACKS -D_LIBCPP_NO_IOSTREAMS=1 -D_LIBCPP_NO_WCHAR=1 -D_LIBCPP_NO_EXCEPTIONS=1 -nostdlib -m32 -Wl,-r -T ../modules/component.lds -Wl,-Map,interface_repository.map -Lmodules -L. -L. -Lkernel/platform/pc99 -L. -L. -L. -lcomponent_support -lkernel -ldebug -lplatform -lcommon -lc++ -lruntime -o interface_repository interfaces/*_typedefs.cpp

cd ..
